var w = 900;
var h = 600;

//to prevent graph clipping
var padding = 40;

//oscillator to make sounds
var osc;
//var fft;
//var filter;
//var noise;

//cell 40 voltage data
var dataset = [
				[1, -70.37771018997273], [2, -70.55195283668208], [3, -70.48753646836445], [4, -70.42815221254875], [5, -70.3815251230974], [6, -70.34494353498839], [7, -70.31601439223807], [8, -70.29296143804784], [9, -70.2744668561427], [10, -70.2595422087026], [11, -70.24743751590324], [12, -70.2375774130791], [13, -70.2295159332658], [14, -70.22290413893785], [15, -70.2174666861099], [16, -70.21298465597361], [17, -70.20928282961096], [18, -70.20622014680596], [19, -70.20368247242068], [20, -70.20157705417252], [21, -70.19982823426993], [22, -70.19837410092869], [23, -70.1971638520291], [24, -70.19615570392511], [25, -70.19531522162632], [26, -70.19461397761452], [27, -70.19402846908433], [28, -70.19353923991673], [29, -70.19313016593472], [30, -70.1927878711538], [31, -70.1925012496712], [32, -70.19226107313179], [33, -70.19205966778948], [34, -70.19189064835885], [35, -70.19174869834089], [36, -70.19162938847478], [37, -70.19152902653262], [38, -70.19144453292694], [39, -70.19137333760874], [40, -70.19131329454947], [41, -70.19126261076069], [42, -70.19121978734576], [43, -70.19118357051697], [44, -70.19115291087259], [45, -70.19112692952554], [46, -70.19110488991683], [47, -70.19108617435046], [48, -70.19107026444925], [49, -70.19105672486997], [50, -70.19104518972773], [51, -70.1910353512744], [52, -70.19102695045174], [53, -70.19101976900592], [54, -70.19101362290118], [55, -70.19100835681685], [56, -70.19100383954618], [57, -70.19099996014766], [58, -70.1909966247237], [59, -70.19099375372286], [60, -70.19099127967905], [61, -70.1909891453158], [62, -70.19098730195557], [63, -61.18926971033493], [64, -6.758364079284608], [65, 14.43589289399152], [66, -50.78961289119224], [67, -74.03801822980071], [68, -74.03556335658469], [69, -73.9392145981784], [70, -74.52865278377726], [71, -74.55432049186675], [72, -74.50918515019104], [73, -74.43779164514291], [74, -74.34586387580849], [75, -74.23189374424143], [76, -74.09253264188908], [77, -73.9242703529467], [78, -73.724394865284], [79, -73.4919150078264], [80, -73.22834920688254], [81, -72.93831969874124], [82, -72.62950072952711], [83, -72.3123638015035], [84, -71.99865852123274], [85, -71.69956641577653], [86, -71.42469874471671], [87, -71.18081313475957], [88, -70.97123097624574], [89, -70.79593363664567], [90, -70.65307808493378], [91, -70.53928012973995], [92, -70.45032653028504], [93, -70.38190121462644], [94, -70.32998364398401], [95, -70.29105550341873], [96, -70.26217145343489], [97, -70.24094481362562], [98, -70.22548831330461], [99, -70.2143372008916], [100, -70.20637102093116], [101, -70.20074248063368], [102, -70.1968168149635], [103, -70.1941222015882], [104, -70.19231034313064], [105, -70.19112575465688], [106, -70.19038218249618], [107, -70.18994469691164], [108, -70.18971620855591], [109, -70.18962738435182], [110, -70.18962914781103], [111, -70.18968712830463], [112, -70.18977757077371], [113, -70.18988433422086], [114, -70.18999669841128], [115, -70.19010776823187], [116, -56.20142278058902], [117, 33.14393987806616], [118, 5.38144364295308], [119, -37.010956505983984], [120, -69.97520422569835], [121, -69.21756843719854], [122, -74.2084320115253], [123, -74.34806059002943], [124, -74.30100152779025], [125, -74.20935759882671], [126, -74.09148264625743], [127, -73.9488540107062], [128, -73.77933101442987], [129, -73.5806901040067], [130, -73.35211037930553], [131, -73.0951294752314], [132, -72.81417093407585], [133, -72.51662800358586], [134, -72.21239884437635], [135, -71.9124891534622], [136, -71.62729635961091], [137, -71.3658516377735], [138, -71.1342621472826], [139, -70.93544559738086], [140, -70.76922635161684], [141, -70.63383128834995], [142, -70.5259347712506], [143, -70.44151385800824], [144, -70.37647568113391], [145, -70.3270213209895], [146, -70.28983352358954], [147, -70.26213867651272], [148, -74.65168200761553], [149, -74.76536660075755], [150, -74.7247240519978], [151, -74.64965497329311], [152, -74.54791371237107], [153, -74.41807675007317], [154, -74.2567571991596], [155, -74.06069465241829], [156, -73.82799308282432], [157, -73.55921057283165], [158, -73.2582185367089], [159, -72.93246872766666], [160, -72.59242150927783], [161, -72.2508607263596], [162, -71.92078861320375], [163, -71.61331210674257], [164, -71.33720318432253], [165, -71.09749016900928], [166, -70.89551284753233], [167, -70.72957280977015], [168, -70.59662526476077], [169, -74.52565526981269], [170, -74.76682038120789], [171, -74.7326192182632], [172, -74.66113227888664], [173, -71.74583740153146], [174, -70.44968688919872], [175, -69.88963829946869], [176, -69.60638284352027], [177, -69.43810192405273], [178, -69.32816058961268], [179, -69.25812871178205], [180, -69.22265610281117], [181, -69.29040789113799], [182, -72.84494468423301], [183, -72.96514313397681], [184, -72.81759434724084], [185, -72.59760783001943], [186, -72.34715172508612], [187, -72.08268532515856], [188, -71.81549593895691], [189, -71.55570822256226], [190, -71.31254638344893], [191, -71.09309532491213], [192, -70.9017092429895], [193, -70.73982892115498], [194, -70.60702452666662], [195, -70.50089690597497], [196, -70.41800986308412], [197, -70.35456085148424], [198, -74.6300883262084], [199, -74.76244868915407], [200, -74.72334692171646], [201, -74.64905773495397], [202, -74.54804452823842], [203, -74.41902737143711], [204, -74.25864941736191], [205, -74.06363316093548], [206, -73.83203207184393], [207, -73.56432221552703], [208, -73.26427495800567], [209, -72.93924053538305], [210, -72.59959739514811], [211, -72.25808347866491], [212, -71.92771804077866], [213, -71.61966707238754], [214, -71.34278372627001], [215, -71.1022017585065], [216, -70.89935688370436], [217, -70.73260437598535], [218, -70.59894117753447], [219, -70.49401090441604], [220, -55.05533468852285], [221, 36.195798222395126], [222, 4.406384967061095], [223, -37.8049162659481], [224, -70.10303224073125], [225, -69.31844564961416], [226, -68.68136848706101], [227, -68.33737396107524], [228, -68.23712464144629], [229, -68.30930934186455], [230, -68.48500303370007], [231, -68.70966268555605], [232, -68.94569941325504], [233, -69.16999527677176], [234, -69.37044303488626], [235, -69.54268948406175], [236, -69.68641475836553], [237, -69.80368379526892], [238, -69.89768113973804], [239, -69.97192400424174], [240, -70.02979199353466], [241, -70.07429190887679], [242, -70.10820968019436], [243, -70.13378892621563], [244, -70.15285561541188], [245, -74.72183009999371], [246, -74.75803408410026], [247, -74.70779762903359], [248, -74.62661238066482], [249, -74.51879791891727], [250, -74.38222770741568], [251, -74.2134263390136], [252, -74.00935689572009], [253, -73.76858177661443], [254, -73.49236392737247], [255, -73.18536894436818], [256, -72.85579410427646], [257, -72.51468859508317], [258, -72.17506225016076], [259, -74.70336002378801], [260, -74.76735158738953], [261, -74.72242574200109], [262, -74.64557163660734], [263, -74.54245122950164], [264, -74.41120443502916], [265, -74.24833263853758], [266, -74.05058048250356], [267, -73.81611967473322], [268, -73.5456329234836], [269, -73.24314423856467], [270, -72.91626109265802], [271, -72.57557253324583], [272, -72.23394853578763], [273, -71.9043746043533], [274, -71.59787914426617], [275, -71.32312928217762], [276, -74.68031268106137], [277, -74.76606935161571], [278, -74.7231744565871], [279, -74.64709669838398], [280, -74.61649557395293], [281, -74.57608562521392], [282, -74.47141205902169], [283, -74.3278736981729], [284, -74.14819098955806], [285, -73.93157665833675], [286, -73.67795503951076], [287, -65.62480140023075], [288, -60.710252642075105], [289, -59.21628020247536], [290, -59.35357705856241], [291, -60.5237743292624], [292, -62.036924485207194], [293, -63.436405866373036], [294, -64.63426475234337], [295, -65.65131900377847], [296, -66.51036810838026], [297, -67.22982990459771], [298, -67.82601558541847], [299, -68.31601523330283], [300, -68.71400999303182], [301, -69.03529019688474], [302, -69.29174722941019], [303, -69.49513639589547], [304, -69.6555794990046], [305, -69.78135118407246], [306, -69.87937341760268], [307, -69.95536090846632], [308, -70.01396439884444], [309, -70.05882692236135], [310, -74.75345025223564], [311, -74.74156261003698], [312, -74.67913508348603], [313, -74.58865710538058], [314, -74.47112836359655], [315, -74.32368453976467], [316, -74.14285934358352], [317, -73.9260640539433], [318, -73.67268028893609], [319, -73.38512142656542], [320, -73.06930838796075], [321, -72.73451366197158], [322, -72.39265388840846], [323, -72.0568722572702], [324, -71.73924355064605], [325, -71.44956039752223], [326, -71.19452088131494], [327, -70.97699111229623], [328, -70.79632282894643], [329, -70.65004369411317], [330, -70.53424730288832], [331, -70.44427838351633], [332, -70.37548664725074], [333, -70.32361233850699], [334, -70.28497249028445], [335, -70.2565118706534], [336, -70.2357723718914], [337, -70.22082150760511], [338, -70.21016680342518], [339, -70.20267158266458], [340, -70.1974798027141], [341, -53.93015228797035], [342, 36.68321033294727], [343, 1.0782622295207478], [344, -41.12886372995907], [345, -70.00087462906052], [346, -69.49971303070755], [347, -72.16905599069678], [348, -72.21587136157873], [349, -72.02099812958554], [350, -71.7832133882114], [351, -71.54668115606329], [352, -71.32460951615411], [353, -71.12241245168431], [354, -70.94306669500806], [355, -70.78798362953466], [356, -70.65748444191267], [357, -70.55047980940972], [358, -70.46481785533288], [359, -70.39769778572722], [360, -70.34607133121591], [361, -70.30696846917813], [362, -70.27771117334467], [363, -70.25601938129856], [364, -70.24003483476369], [365, -70.22829326426715], [366, -70.21967071430456], [367, -70.21332193131813], [368, -70.20862135315286], [369, -70.20511176587273], [370, -70.20246222740674], [371, -70.20043495592114], [372, -70.19886001563026], [373, -70.1976163734711], [374, -74.71570446460312], [375, -74.7623118142957], [376, -74.71390138685767], [377, -74.63403199515469], [378, -74.5275523976491], [379, -74.39244379156095], [380, -74.22523171487191], [381, -74.02281823046125], [382, -73.78365619089566], [383, -73.50884808998075], [384, -73.20288826768217], [385, -72.87382337851449], [386, -72.53258566290182], [387, -72.19216706481058], [388, -71.86536913567247], [389, -71.56289386546969], [390, -71.29294813592908], [391, -71.05987826095752], [392, -70.86439488031544], [393, -70.70450420809689], [394, -70.57689057989458], [395, -70.47705816495056], [396, -70.40028073200847], [397, -70.34209763258963], [398, -70.29857204711514], [399, -70.26638925645774], [400, -70.24285284738862], [401, -70.22582531598117], [402, -70.21364533619942], [403, -70.20504137000802], [404, -70.19905204538048], [405, -70.19495774642625], [406, -70.1922243917958], [407, -70.1904585985271], [408, -70.18937267686411], [409, -70.18875772021917], [410, -70.18846315692038], [411, -70.18838135068275], [412, -70.18843608590495], [413, -70.18857400879419], [414, -70.18875829842737], [415, -70.18896400899003], [416, -70.18917465772523], [417, -70.18937973723007], [418, -70.18957291086907], [419, -70.1897507111113], [420, -74.61832507408413], [421, -74.76667957632833], [422, -74.72842063267392], [423, -74.65470841829564], [424, -74.55427220391596], [425, -74.4258759774151], [426, -74.26616581684715], [427, -74.07184281404044], [428, -73.84092059620214], [429, -73.57381201685018], [430, -73.27421890551551], [431, -72.94942463696255], [432, -72.60976016887984], [433, -72.26793427303176], [434, -71.93699177075074], [435, -71.62815502608521], [436, -71.35033464470642], [437, -71.10875161863626], [438, -70.9049229929118], [439, -70.73724368179977], [440, -70.60274369617156], [441, -74.74749588758624], [442, -74.75633548030915], [443, -74.70045976998776], [444, -74.61538385996836], [445, -74.50358751241758], [446, -74.3625260925533], [447, -74.18867681985847], [448, -73.97915339607839], [449, -73.73281867879194], [450, -73.45139673784047], [451, -73.14007188507163], [452, -72.80751559634302], [453, -70.28671944045547], [454, -55.73708818305907], [455, -26.160017445044275], [456, 17.49481671013177], [457, -25.476649591622444], [458, -69.51583511206577], [459, -70.4212130862318], [460, -69.7214257250893], [461, -69.26171431726885], [462, -69.02362273912644], [463, -68.95812116882146], [464, -69.00895810676656], [465, -69.1266092327895], [466, -69.27404805656265], [467, -69.4268247540547], [468, -69.5705306011706], [469, -69.69792486962888], [470, -69.80640582505538], [471, -69.89611582305797], [472, -72.93958255599622], [473, -74.74734560043015], [474, -74.7265850224081], [475, -74.66043550938508], [476, -74.56666311566372], [477, -74.44564038086286], [478, -74.29438187896423], [479, -74.10949386530066], [480, -73.88859272118583], [481, -73.63140137178274], [482, -73.34074403302634], [483, -73.0229673252579], [484, -72.68765770926157], [485, -72.34695796408774], [486, -72.01392672933605], [487, -71.70030098678006], [488, -71.41554233618892], [489, -71.16581591079418], [490, -70.9535288933294], [491, -70.77768123603882], [492, -70.6356706386223], [493, -70.52345797540157], [494, -70.43638787405969], [495, -70.36986989109981], [496, -70.31973269006289], [497, -70.2823893959564], [498, -70.25487582101772], [499, -70.23481346775637], [500, -70.2203358750382], [501, -74.74978839186538], [502, -74.7553471186552], [503, -74.698508238892], [504, -74.61263349402827], [505, -74.49997486215884], [506, -74.35793951475534], [507, -74.1830127273188], [508, -73.97235340618487], [509, -73.724902762749], [510, -73.44249292101387], [511, -73.13042418406086], [512, -72.79746634554884], [513, -73.91951872122254], [514, -73.98684209182038], [515, -73.80733251096115], [516, -73.55340303704467], [517, -73.25668596749445], [518, -72.93209489761504], [519, -72.59228713452043], [520, -72.2507011588036], [521, -71.92053448828909], [522, -71.61295319698257], [523, -71.3367534355568], [524, -71.09697294558565], [525, -70.89495303779204], [526, -70.72899459825148], [527, -70.59605091707945], [528, -70.49174023007608], [529, -70.41132371475263], [530, -70.35026217490284], [531, -70.30450962859639], [532, -70.27063543793918], [533, -70.2458345823964], [534, -70.22787504493974], [535, -70.21501715020815], [536, -70.20592657745084], [537, -70.19959287287574], [538, -70.19525875569359], [539, -70.19236165459074], [540, -70.190486885488], [541, -70.18933098746584], [542, -70.18867347814987], [543, -70.18835535879822], [544, -70.18826290861172], [545, -70.18831555729624], [546, -70.18845686514555], [547, -70.18864784995303], [548, -70.18886207403825], [549, -70.18908204401518], [550, -70.18929658505972], [551, -70.18949893559815], [552, -70.18968537252944], [553, -70.18985422566362], [554, -70.55594829176823], [555, -74.76253956442031], [556, -74.74705205875523], [557, -74.68363162271054], [558, -74.59246716053538], [559, -74.4741935491844], [560, -74.32585199907923], [561, -74.1439592967577], [562, -73.92595030340773], [563, -73.6712620696843], [564, -73.38239509951988], [565, -73.06537491717064], [566, -72.72957321073878], [567, -72.38699273853891], [568, -72.05081994071028], [569, -71.73311508509038], [570, -71.4436400502298], [571, -71.18901998025447], [572, -73.44719445932857], [573, -73.8800616648971], [574, -73.72336892871236], [575, -73.46787627060333], [576, -73.16553435952699], [577, -72.83649284483614], [578, -72.49535165699963], [579, -60.130741331354336], [580, -46.81440083406739], [581, 30.1085337113846], [582, -11.223923555186467], [583, -55.9549289459015], [584, -70.59858192631408], [585, -74.09471085297899], [586, -74.40144202729108], [587, -74.37168454842352], [588, -74.2877614264629], [589, -74.17642722790441], [590, -74.04070230051433], [591, -73.87861858287937], [592, -73.68761045289024], [593, -73.46623667134062], [594, -73.21521242393447], [595, -72.93810555062154], [596, -72.64145857294763], [597, -72.334671227128], [598, -72.02872265538377], [599, -71.73451531341503], [600, -71.46169664619812], [601, -71.21747831838763], [602, -71.00581483595575], [603, -70.82741943777444], [604, -70.6808776889266], [605, -70.56328826024766], [606, -70.47072617481973], [607, -70.39903483762261], [608, -70.34426085337807], [609, -70.30289297054394], [610, -70.27195853542776], [611, -70.24902720333993], [612, -70.23216305191707], [613, -70.2198541212175], [614, -70.21093734717094], [615, -70.2045285962822], [616, -70.19996209533655], [617, -70.19674036615883], [618, -70.19449411095088], [619, -70.19295076475322], [620, -70.19191022909777], [621, -70.19122636554837], [622, -70.19079300749809], [623, -70.19053346069397], [624, -74.76739260441097], [625, -74.78953694844087], [626, -74.74334519004981], [627, -74.67014728523638], [628, -74.57277747989131], [629, -74.44873154606567], [630, -74.29422152146942], [631, -74.10565763232282], [632, -73.8807081352488], [633, -73.61929638519996], [634, -73.32455348023746], [635, -73.00318142942137], [636, -72.66507847925506], [637, -72.32265592969087], [638, -71.98906286679671], [639, -71.67592598292887], [640, -71.39257860958354], [641, -71.14489710178923], [642, -70.93498914261207], [643, -70.76160788213383], [644, -70.62201476376568], [645, -70.51202672338732], [646, -70.42692471836065], [647, -70.36209868463587], [648, -66.64870121530794], [649, -36.868327894401716], [650, 24.227765254446417], [651, -19.37749317016554], [652, -64.53326243620971], [653, -69.66167774619711], [654, -68.89053075546995], [655, -68.42038631200839], [656, -68.22254887196064], [657, -68.23088342455789], [658, -68.37247592858206], [659, -68.58512854251067], [660, -68.82352311294767], [661, -69.05851173926688], [662, -69.2732675377381], [663, -69.46064234582178], [664, -69.61882409225943], [665, -69.74906162578209], [666, -69.85422208760333], [667, -69.93780012691641], [668, -70.00333779367608], [669, -70.05402476070518], [670, -70.09281158219335], [671, -70.12221311998715], [672, -70.14425290363091], [673, -70.16057391335134], [674, -70.17249426904189], [675, -70.18105925791174], [676, -70.18708957524912], [677, -70.19122391071191], [678, -70.19395527512052], [679, -70.19566125620842], [680, -70.19662878104313], [681, -70.19707411268469], [682, -70.19715882641896], [683, -70.19700246109336], [684, -70.19669246128146], [685, -70.19629193737521], [686, -70.19584568453702], [687, -70.19538482321545], [688, -72.55391295960725], [689, -73.8518408987958], [690, -73.73013885145106], [691, -73.4838584451098], [692, -73.18517734008321], [693, -72.85798124884279], [694, -72.51777089036598], [695, -72.17880338318892], [696, -71.85407182038743], [697, -71.55413446328969], [698, -71.28690656189609], [699, -71.05644670889566], [700, -70.86325238391802], [701, -70.70522380570674], [702, -70.57899755419774], [703, -70.48010270829917], [704, -70.40387753360753], [705, -70.34594118183654], [706, -70.30243616038533], [707, -70.27011770625846], [708, -74.75738428699287], [709, -74.75132337984206], [710, -74.6911302531221], [711, -74.60263060188012], [712, -74.48720502765534], [713, -74.34206247025296], [714, -74.16369512122901], [715, -73.94939205505192], [716, -73.69833161320305], [717, -73.4126743066403], [718, -73.0980785704157], [719, -72.76361743170973], [720, -72.421059545056], [721, -72.08358932988159], [722, -71.76348225129716], [723, -71.4707352344164], [724, -71.21237516356292], [725, -70.99155401715633], [726, -70.8078621390912], [727, -70.65890006855322], [728, -70.54085125049151], [729, -70.44906292801494], [730, -70.37884787710797], [731, -70.32589054723465], [732, -70.28644688089878], [733, -70.25740357548666], [734, -62.596290389334776], [735, -16.882347189468675], [736, 17.29915571277803], [737, -26.06269301543903], [738, -68.65996174436653], [739, -71.53461904848261], [740, -72.14549839636678], [741, -72.00384937961628], [742, -71.75681345807418], [743, -71.50372500724933], [744, -71.26950143978503], [745, -71.0610885134134], [746, -70.88040405023028], [747, -70.72754210089464], [748, -70.60154721657486], [749, -70.50034844532088], [750, -70.42108468035902], [751, -70.36044538745912], [752, -70.31502778680242], [753, -70.28163080552814], [754, -70.2574442763371], [755, -70.24013328294441], [756, -70.22784178808023], [757, -70.21914643276276], [758, -70.21298725977303], [759, -70.20859390446877], [760, -70.20541783579843], [761, -70.20307530773196], [762, -70.20130199437526], [763, -70.19991834963538], [764, -70.19880394697422], [765, -74.75802855702355], [766, -74.74959316543367], [767, -74.68859517076011], [768, -74.59942659713862], [769, -74.48329373563011], [770, -74.33736883901157], [771, -74.15815377217527], [772, -73.94297733118731], [773, -73.69108607027664], [774, -73.40472705301963], [775, -73.08964987312065], [776, -74.26705039496676], [777, -74.77383377211768], [778, -74.87197533967311], [779, -74.85560247308159], [780, -74.81641720999606], [781, -74.7609434246094], [782, -74.68792143417792], [783, -74.59404064296832], [784, -74.4751537746884], [785, -74.32689684625554], [786, -74.14532205118849], [787, -73.92768578851856], [788, -73.67332756357986], [789, -73.3846762675177], [790, -73.06769885087279], [791, -72.73172919399344], [792, -72.388761322406], [793, -72.052018387314], [794, -71.73362449222844], [795, -71.44341973144196], [796, -71.18811412205265], [797, -70.97055540201364], [798, -74.40423899557022], [799, -74.76704045641105], [800, -74.73571512820229], [801, -74.6657685331024], [802, -74.56894504167045], [803, -74.44455576526073], [804, -74.28934452379913], [805, -74.09990860424581], [806, -73.8740090451824], [807, -67.03178802273338], [808, -62.409567317752355], [809, -61.07211552485004], [810, -61.09261960632553], [811, -61.80382276013711], [812, -62.81441869940513], [813, -63.87950455593333], [814, -73.72545298907801], [815, -74.39822329511013], [816, -74.40001938091208], [817, -74.33231887322661], [818, -74.2326255349486], [819, -74.10591858961295], [820, -73.95077410288071], [821, -73.76471378481804], [822, -73.54620712072054], [823, -73.29578011437309], [824, -73.01682458618207], [825, -72.71582508198608], [826, -72.40227503042179], [827, -72.08760868656296], [828, -71.78342976625203], [829, -71.50004961774832], [830, -71.2455409490129], [831, -71.02452208379583], [832, -70.83815793407788], [833, -70.68516243580753], [834, -70.5626851606566], [835, -70.46666135180003], [836, -70.39271085422719], [837, -70.33663171196942], [838, -70.29467574325048], [839, -70.26366476937888], [840, -70.24100162244255], [841, -70.22462174222554], [842, -70.21291816055442], [843, -70.20466038535993], [844, -70.19891836878651], [845, -70.19499657206407], [846, -70.19237949018361], [847, -70.19068808301533], [848, -70.18964571515828], [849, -70.18905196684123], [850, -70.1887627449533], [851, -70.18867532215629], [852, -70.18871716829379], [853, -70.18883766526314], [854, -70.18900199452688], [855, -70.1891866501322], [856, -70.18937616094381], [857, -70.18956070806495], [858, -67.12060635095091], [859, -37.98056945885775], [860, 24.150788653029206], [861, -19.62404378052803], [862, -64.65006320906276], [863, -69.58191590216515], [864, -68.8160407993556], [865, -74.26347644989981], [866, -74.39537008531724], [867, -74.34964180020843], [868, -74.26032626439748], [869, -74.14437363668648], [870, -74.00291265034447], [871, -73.83368772356428], [872, -73.63441642405321], [873, -73.40425261802376], [874, -73.14474552150561], [875, -72.86040638121636], [876, -72.55873064825275], [877, -72.24983351570675], [878, -71.94498417369026], [879, -71.6548319570626], [880, -71.38861314180767], [881, -71.15264398050675], [882, -70.94997655053147], [883, -70.7804763727753], [884, -70.64234848106004], [885, -70.53224906488856], [886, -71.9855830146685], [887, -74.76214591290105], [888, -74.74294806515573], [889, -74.6781228470257], [890, -74.58577105942257], [891, -74.46623633100889], [892, -74.31649466438527], [893, -74.13307769036399], [894, -73.913486116936], [895, -73.65727257293055], [896, -73.36708426429598], [897, -73.96656062636119], [898, -74.07823949333877], [899, -73.91782060018917], [900, -73.68082119310108], [901, -73.39846905999076], [902, -73.08423736512287], [903, -72.74958234764547], [904, -72.4070437832353], [905, -72.0700141768453], [906, -71.75075320503832], [907, -74.43536684643969], [908, -74.7684860661043], [909, -74.73712263412223], [910, -74.66750096294446], [911, -74.57115658672954], [912, -74.44736027670054], [913, -74.29283596231913], [914, -74.1041540729066], [915, -73.87903302283613], [916, -73.61741338301967], [917, -73.32243703797371], [918, -73.00081800597755], [919, -72.66246618573415], [920, -72.31981641460695], [921, -71.98603901933836], [922, -71.67277164978069], [923, -54.06132188192074], [924, 33.269488781133596], [925, 5.701818447843487], [926, -36.53123027393342], [927, -70.43242706905903], [928, -69.70212366023934], [929, -69.06046776862638], [930, -68.68894375265434], [931, -68.5478703512864], [932, -68.5745160933683], [933, -68.70563884987823], [934, -68.88981442273494], [935, -69.09068886641047], [936, -69.28524822904288], [937, -69.46148802948623], [938, -69.61410926011403], [939, -69.74208684988496], [940, -69.84683398164563], [941, -69.9309486008376], [942, -69.99744089424775], [943, -70.04921384559094], [944, -70.08902797973732], [945, -70.11933814419271], [946, -70.1421430425676], [947, -70.15908532638707], [948, -70.17149571026164], [949, -70.18043745447339], [950, -70.18675036690007], [951, -70.19109118296402], [952, -74.74055802026994], [953, -74.75719591008482], [954, -74.70305548163188], [955, -74.61918116869418], [956, -74.50861404879178], [957, -74.36894184565614], [958, -74.19665968312529], [959, -74.79212864279752], [960, -74.78309820530173], [961, -74.72944668862598], [962, -74.65099222621674], [963, -74.54824769559767], [964, -74.4181330456212], [965, -74.25676072828887], [966, -74.06070173130205], [967, -73.82799350618684], [968, -73.55915977369064], [969, -73.25805138145647], [970, -73.83562834694864], [971, -74.06257338622548], [972, -73.91376006178969], [973, -73.67959887206055], [974, -73.39799465320684], [975, -73.0839028370436], [976, -72.74920097311065], [977, -72.40655885106774], [978, -72.0694148015418], [979, -68.36677339242988], [980, -50.33490162825341], [981, 34.755227723353705], [982, -3.812991407112635], [983, -46.434063407937934], [984, -70.42658408499038], [985, -69.6076657437163], [986, -69.02573287461448], [987, -68.70469536398048], [988, -68.59901941687977], [989, -68.64568477064583], [990, -68.78435438261582], [991, -68.96744688515336], [992, -69.16194934594844], [993, -69.34775352303635], [994, -69.51453617253976], [995, -69.6580099693909], [996, -69.777710568544], [997, -69.87528626390568], [998, -69.95337275992577], [999, -70.01490439772256], [1000, -70.06263810642754]			  
			  ];

//p5 setup
function setup() {

osc = new p5.SinOsc(); //new oscillator


			//.attr("id", "graph1");

//scale for x
var x = d3.scale.linear()
			.range([padding, w-padding]);

//scale for y
var y = d3.scale.linear()
			.range([h-padding, padding]);

//to draw the line through the data points
var lines = d3.svg.line()
			.x(function(d) {return x(d); })
			.y(function(d) {return y(d); });
			
//gradient for data across x axis
var color = d3.scale.linear()
				     .domain([0, d3.max(dataset, function(d) {return d[0]; })]) //use max and min to be more flexible
					 .range(["#0099cc", "#80002a"]); 

//scaling the graph
var xScale = d3.scale.linear()
                     .domain([0, d3.max(dataset, function(d) {return d[0]; })]) //use max and min to be more flexible
                     //.range([d3.min(dataset, function(d) {return d[0];}) , w]); //set to min value and svg width
                     .range([padding*2, w-padding]);
                     
var yScale = d3.scale.linear()
                     .domain([d3.min(dataset, function(d) {return d[1]}), d3.max(dataset, function(d) {return d[1]; })]) //use max and min to be more flexible
                     //.range([d3.min(dataset, function(d) {return d[1];}), h]);//set to min value and svg width
                     .range([h-padding*2, padding]);

//create the x axis for graph
var xAxis = d3.svg.axis()
					 .scale(xScale)
					 .orient("bottom")
					 .ticks(6); //set number of ticks
					// .style("")

//create the y axis
var yAxis = d3.svg.axis()
					 .scale(yScale)
					 .orient("left")
					 .ticks(7); //set number of ticks

//make a line
var valueline = d3.svg.line()
			.x(function(d) { return xScale(d[0]); })
			.y(function(d) { return yScale(d[1]); });

//the graph
var svg = d3.select("#dataContainer")
			.append("svg") // append new group element
			.attr("width", w)
			.attr("height", h);

		svg.append("path")
			.attr("class", "line")
			.attr("d", valueline(dataset));

		svg.selectAll("circle")
			.data(dataset)
			//.transition()
			.enter()
			.append("circle")
			.style("fill", function(d) {
				return color(d[0]);
			})
			//.style("stroke", "white")
			.attr("cx", function(d) {
				return xScale(d[0]);
			})
			.attr("cy", function(d) {
				return yScale(d[1]);
			})
			.attr("r", 5)
			.on("mouseover", function(d) {
				d3.select(this)
					.transition() //make it transition nicely 
					.duration(50) // transition duration
					.attr("r", 20); //enlarges the circle on hover
				playing = true; // play noise when hover on circle
				//osc.amp(.5, .02);
				//noise.start();
				//osc.scale(0, h, 20, 440);
				osc.start();
				var freq = map(yScale(d[1]), h, 0, 20, 888);
				osc.freq(freq);
				//var amp = map(xScale(d[0], 0, w, 0, 1));
				//osc.amp(amp);
				console.log(freq);
				//var freq = map(mouseY, 0, w, 20, 440);
				//filter.freq(freq);
				//filter.res(50);
			})
			.on("mouseout", function(d) {
				d3.select(this)
					.transition()
					.duration(250)
					.attr("r", 5);
				playing = false;

				//osc.amp(0, .05);
				osc.stop();
				//noise.stop();
			});

		svg.append("g")
			.attr("class", "axis") //assign axis class
			.attr("transform", "translate(0," + (h-padding) + ")")
			.call(xAxis);

		svg.append("g")
			.attr("class", "axis") //assign axis class
			.attr("transform", "translate(" + padding + ",0)")
			.call(yAxis);


}